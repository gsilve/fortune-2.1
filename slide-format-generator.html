<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📊 12띠 통합 슬라이드 생성기</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-bottom: 20px;
        }
        
        .date-selector {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        input[type="date"] {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            grid-column: 1 / -1;
        }
        
        .quick-btn {
            padding: 12px;
            background: #f0f0f0;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }
        
        .quick-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            margin: 10px 0;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }
        
        .btn-info {
            background: linear-gradient(135deg, #17a2b8 0%, #00d4ff 100%);
        }
        
        .script-box {
            background: #000;
            color: #0f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.6;
            max-height: 500px;
            overflow-y: auto;
            margin: 20px 0;
        }
        
        .timeline {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .timeline-item {
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
            background: white;
            border-radius: 5px;
        }
        
        .time {
            font-weight: bold;
            color: #667eea;
            margin-right: 10px;
        }
        
        .format-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .tab {
            flex: 1;
            padding: 12px;
            background: #e0e0e0;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .selected-date-display {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📊 12띠 통합 슬라이드 생성기</h1>
            <p>60초 안에 12띠 전체를 담은 하나의 쇼츠!</p>
            <p style="font-size: 0.9rem; margin-top: 10px; opacity: 0.9;">✨ 날짜 선택해서 미리 만들기 가능!</p>
        </div>

        <!-- 날짜 선택 카드 -->
        <div class="card">
            <h2 style="margin-bottom: 20px;">📅 날짜 선택</h2>
            
            <input type="date" id="selectedDate" onchange="updateDateDisplay()">
            
            <div class="date-selector">
                <button class="quick-btn" onclick="setToday()">📅 오늘</button>
                <button class="quick-btn" onclick="setTomorrow()">🌅 내일</button>
                <button class="quick-btn" onclick="setDayAfterTomorrow()">📆 모레</button>
            </div>
            
            <div class="selected-date-display" id="dateDisplay">
                날짜를 선택하세요
            </div>
        </div>

        <!-- 포맷 선택 카드 -->
        <div class="card">
            <h2 style="margin-bottom: 20px;">⚙️ 포맷 선택</h2>
            <div class="format-tabs">
                <button class="tab active" onclick="selectFormat('vrew')">VREW 용</button>
                <button class="tab" onclick="selectFormat('premiere')">Premiere 용</button>
                <button class="tab" onclick="selectFormat('capcut')">CapCut 용</button>
            </div>

            <button class="btn" onclick="generateScript()">
                ⚡ 선택한 날짜의 12띠 대본 생성
            </button>
        </div>

        <!-- 결과 카드 -->
        <div id="result" style="display: none;" class="card">
            <h2>🎬 생성된 대본</h2>
            
            <div class="timeline">
                <h3>⏱️ 타임라인 구성 (60초)</h3>
                <div id="timeline"></div>
            </div>

            <h3 style="margin: 20px 0;">📝 대본 (복사하기)</h3>
            <div class="script-box" id="scriptBox"></div>
            
            <button class="btn btn-success" onclick="copyScript()">
                📋 대본 복사
            </button>
            
            <button class="btn btn-info" onclick="downloadTXT()">
                💾 TXT 다운로드 (파일명: {날짜}_12띠운세.txt)
            </button>
            
            <div style="margin-top: 20px; padding: 15px; background: #e7f3ff; border-radius: 10px;">
                <strong>💡 다음 단계:</strong><br>
                1. 위 대본 복사<br>
                2. VREW/Premiere에 붙여넣기<br>
                3. 배경색 각 띠별로 변경<br>
                4. 영상 내보내기!
            </div>
        </div>
    </div>

    <script>
        let currentFormat = 'vrew';
        let generatedScript = '';
        let selectedDate = new Date();

        // 초기화
        document.getElementById('selectedDate').valueAsDate = selectedDate;
        updateDateDisplay();

        function setToday() {
            selectedDate = new Date();
            document.getElementById('selectedDate').valueAsDate = selectedDate;
            updateDateDisplay();
        }

        function setTomorrow() {
            selectedDate = new Date();
            selectedDate.setDate(selectedDate.getDate() + 1);
            document.getElementById('selectedDate').valueAsDate = selectedDate;
            updateDateDisplay();
        }

        function setDayAfterTomorrow() {
            selectedDate = new Date();
            selectedDate.setDate(selectedDate.getDate() + 2);
            document.getElementById('selectedDate').valueAsDate = selectedDate;
            updateDateDisplay();
        }

        function updateDateDisplay() {
            const dateInput = document.getElementById('selectedDate');
            selectedDate = new Date(dateInput.value);
            
            const month = selectedDate.getMonth() + 1;
            const day = selectedDate.getDate();
            const dayNames = ['일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일'];
            const dayName = dayNames[selectedDate.getDay()];
            
            document.getElementById('dateDisplay').textContent = 
                `${month}월 ${day}일 (${dayName})의 운세를 생성합니다`;
        }

        function selectFormat(format) {
            currentFormat = format;
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
        }

        const zodiacs = [
            { name: '쥐띠', emoji: '🐭', color: '#FF6B6B' },
            { name: '소띠', emoji: '🐮', color: '#4ECDC4' },
            { name: '호랑이띠', emoji: '🐯', color: '#FFD93D' },
            { name: '토끼띠', emoji: '🐰', color: '#95E1D3' },
            { name: '용띠', emoji: '🐲', color: '#6C5CE7' },
            { name: '뱀띠', emoji: '🐍', color: '#A8E6CF' },
            { name: '말띠', emoji: '🐴', color: '#FF8B94' },
            { name: '양띠', emoji: '🐑', color: '#C7CEEA' },
            { name: '원숭이띠', emoji: '🐵', color: '#FECA57' },
            { name: '닭띠', emoji: '🐓', color: '#FF6348' },
            { name: '개띠', emoji: '🐕', color: '#48C6EF' },
            { name: '돼지띠', emoji: '🐷', color: '#F78FB3' }
        ];

        const fortuneTemplates = [
            "오늘은 금전운이 상승하는 날입니다. 예상치 못한 수입이 생길 수 있어요.",
            "재물운이 좋은 날이에요. 작은 투자나 저축을 시작하기 좋습니다.",
            "돈 관리에 신경 쓰세요. 불필요한 지출을 줄이면 재운이 올라갑니다.",
            "금전적인 기회가 찾아올 수 있어요. 주변의 제안을 잘 살펴보세요.",
            "재물운이 안정적입니다. 계획적인 소비로 저축을 늘려보세요.",
            "오늘은 투자보다는 저축이 유리합니다. 안정적인 재테크를 추천해요.",
            "금전운이 활발합니다. 새로운 수입원을 찾아보기 좋은 날이에요.",
            "재물운이 점진적으로 상승합니다. 장기적인 계획을 세워보세요.",
            "오늘은 지출을 조심하세요. 충동구매를 피하면 재운이 좋아집니다.",
            "금전적으로 여유로운 하루입니다. 작은 선물이나 기부도 좋아요.",
            "재물운이 강합니다. 과거 투자가 결실을 맺을 수 있어요.",
            "오늘은 금전 관리에 집중하세요. 꼼꼼한 가계부가 재운을 높입니다."
        ];

        function getRandomFortune() {
            return fortuneTemplates[Math.floor(Math.random() * fortuneTemplates.length)];
        }

        function generateScript() {
            if (!selectedDate) {
                alert('날짜를 먼저 선택해주세요!');
                return;
            }

            const month = selectedDate.getMonth() + 1;
            const day = selectedDate.getDate();
            const dateStr = `${month}월 ${day}일`;

            let script = '';
            let timeline = '';
            let currentTime = 0;

            // 인트로 (3초)
            script += `[인트로 - 3초]\n`;
            script += `${dateStr}\n12띠 금전운을\n확인하세요\n\n`;
            timeline += `<div class="timeline-item"><span class="time">00:00-00:03</span>인트로</div>`;
            currentTime = 3;

            // 각 띠별 대본 (5초씩)
            zodiacs.forEach((zodiac, index) => {
                const endTime = currentTime + 5;
                const timeStr = `${String(Math.floor(currentTime / 60)).padStart(2, '0')}:${String(currentTime % 60).padStart(2, '0')}`;
                const endTimeStr = `${String(Math.floor(endTime / 60)).padStart(2, '0')}:${String(endTime % 60).padStart(2, '0')}`;
                
                const fortune = getRandomFortune();
                
                if (currentFormat === 'vrew') {
                    script += `[${zodiac.name} - 5초]\n`;
                    script += `${zodiac.name}\n`;
                    script += `${fortune}\n\n`;
                } else if (currentFormat === 'premiere') {
                    script += `// ${timeStr} - ${endTimeStr}\n`;
                    script += `${zodiac.name}\n`;
                    script += `${fortune}\n\n`;
                } else { // capcut
                    script += `${zodiac.name}\n`;
                    script += `${fortune}\n\n`;
                }
                
                timeline += `<div class="timeline-item"><span class="time">${timeStr}-${endTimeStr}</span>${zodiac.emoji} ${zodiac.name}</div>`;
                currentTime = endTime;
            });

            generatedScript = script;
            
            document.getElementById('scriptBox').textContent = script;
            document.getElementById('timeline').innerHTML = timeline;
            document.getElementById('result').style.display = 'block';
            
            // 결과로 스크롤
            document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
        }

        function copyScript() {
            navigator.clipboard.writeText(generatedScript).then(() => {
                alert('✅ 대본이 복사되었습니다!\nVREW나 영상 편집 프로그램에 붙여넣기 하세요.');
            });
        }

        function downloadTXT() {
            const month = selectedDate.getMonth() + 1;
            const day = selectedDate.getDate();
            const filename = `${month}${String(day).padStart(2, '0')}_12띠운세.txt`;
            
            const blob = new Blob([generatedScript], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
